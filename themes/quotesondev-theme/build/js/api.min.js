!function(a){"use strict";a(function(){a("#new-quote-button").on("click",function(e){e.preventDefault();var t=window.location.href;a.ajax({method:"GET",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",cache:!1,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(e){var t=e[0].content.rendered,o=e[0].title.rendered;a(".entry-content p").empty(),a(".entry-content p").append(t),a(".entry-title").empty(),a(".entry-title").append(o);var n=e[0]._qod_quote_source,r=e[0]._qod_quote_source_url;a(".source").remove(),n&&r?a(".entry-meta").append('<span class="source">, <a href="'+r+'">'+n+"</a></span>"):n&&a(".entry-meta").append('<span class="source">, '+n+"</span>");var s=e[0].slug;history.pushState(null,null,s)}),a(window).on("popstate",function(){window.location.replace(t)})})}),a("#quote-submission-form").on("submit",function(e){e.preventDefault();var t=a("#quote-author").val(),o=a("#quote-content").val(),n=a("#quote-source").val(),r=a("#quote-source-url").val();a.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:t,content:o,_qod_quote_source:n,_qod_quote_source_url:r},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(e){console.log(e),a(".submit-success-message").show(),a("#quote-submission-form").hide()}).fail(function(){alert("Something went wrong, your post was not submitted")})})}(jQuery);